# ğŸ“± SocialSpace Frontend

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

Next.jsì™€ TypeScriptë¥¼ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì¶•ëœ í˜„ëŒ€ì ì¸ ì†Œì…œ ë„¤íŠ¸ì›Œí¬ í”Œë«í¼ì˜ í”„ë¡ íŠ¸ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤. ì‹¤ì‹œê°„ ì±„íŒ…, ë¬´í•œ ìŠ¤í¬ë¡¤, ë°˜ì‘í˜• UI ë“± ìµœì‹  ì›¹ ê¸°ìˆ ì„ í™œìš©í•˜ì—¬ ê°œë°œì„ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤ë‹¤.

**í”„ë¡œì íŠ¸ ìœ í˜•**: ê°œì¸ í”„ë¡œì íŠ¸ / Frontend ê°œë°œ  
**ê°œë°œí™˜ê²½**: NextJS / TypeScript / TailWindCSS

---

## ğŸ’¡ í”„ë¡œì íŠ¸ ëª©ì 

1. **NextJS í™œìš©**

   - Next.js App Routerë¥¼ í™œìš©í•œ ìµœì‹  React íŒ¨í„´ ì ìš©
   - TypeScriptë¡œ íƒ€ì… ì•ˆì „ì„±ì„ ê°–ì¶˜ ì»´í¬ë„ŒíŠ¸ ê°œë°œ
   - Server/Client Component ë¶„ë¦¬ ì „ëµ êµ¬í˜„
   - **SSR (Server-Side Rendering)**: ì´ˆê¸° ë¡œë”© ì†ë„ ìµœì í™”ë¥¼ ìœ„í•œ ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§
   - **CSR (Client-Side Rendering)**: ì‹¤ì‹œê°„ ë°ì´í„° ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•œ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë Œë”ë§
   - **í•˜ì´ë¸Œë¦¬ë“œ ë Œë”ë§**: ê° í˜ì´ì§€ ìš”êµ¬ì‚¬í•­ì— ë§ê²Œ SSR/CSR ì ì ˆíˆ ì„ íƒ

2. **ìƒíƒœ ê´€ë¦¬ ë° ë°ì´í„° í˜ì¹­**

   - SWRì„ í™œìš©í•œ ì„ ì–¸ì  ë°ì´í„° í˜ì¹­
   - ìºì‹± ë° ë¦¬ë°¸ë¦¬ë°ì´ì…˜ ìë™í™”
   - Optimistic UI ì—…ë°ì´íŠ¸ë¡œ ì‚¬ìš©ì ê²½í—˜ í–¥ìƒ

3. **ì‹¤ì‹œê°„ ì‚¬ìš©ì ì¸í„°ë™ì…˜**

   - Socket.IOë¥¼ í†µí•œ ì‹¤ì‹œê°„ ì–‘ë°©í–¥ í†µì‹ 
   - ì¦‰ê°ì ì¸ ì•Œë¦¼ ë° ì±„íŒ… ë©”ì‹œì§€ ì—…ë°ì´íŠ¸

4. **ë°˜ì‘í˜• ë° ì ‘ê·¼ì„± ë†’ì€ UI/UX**

   - Tailwind CSSë¥¼ í™œìš©í•œ ëª¨ë°”ì¼ í¼ìŠ¤íŠ¸ ë””ìì¸
   - ì§ê´€ì ì¸ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤
   - ë¬´í•œ ìŠ¤í¬ë¡¤ ë° í˜ì´ì§€ë„¤ì´ì…˜ ìµœì í™”

5. **íŒŒì¼ êµ¬ì¡° ë° ì½”ë“œ ê´€ë¦¬**
   - **ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬**: ì»´í¬ë„ŒíŠ¸, í›…, API ë ˆì´ì–´ë¥¼ ëª…í™•íˆ êµ¬ë¶„
   - **ì¬ì‚¬ìš©ì„± ë†’ì€ ì„¤ê³„**: ì»¤ìŠ¤í…€ Hookìœ¼ë¡œ ë¡œì§ ì¬ì‚¬ìš© ê·¹ëŒ€í™”
   - **íƒ€ì… ì•ˆì „ì„±**: TypeScriptë¥¼ í†µí•œ íƒ€ì… ì²´í¬
   - **ë ˆì´ì–´ ë¶„ë¦¬**: API í´ë¼ì´ì–¸íŠ¸, í›…, ì»´í¬ë„ŒíŠ¸ì˜ ëª…í™•í•œ ì±…ì„ êµ¬ë¶„
   - **ëª¨ë“ˆí™”ëœ êµ¬ì¡°**: ê¸°ëŠ¥ë³„ ë””ë ‰í† ë¦¬ êµ¬ì¡°ë¡œ ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### **Core**

| ê¸°ìˆ            | ë²„ì „   | ëª©ì  ë° í™œìš©                                    |
| -------------- | ------ | ----------------------------------------------- |
| **Next.js**    | 15.3.4 | React ê¸°ë°˜ì˜ í’€ìŠ¤íƒ í”„ë ˆì„ì›Œí¬, App Router í™œìš© |
| **React**      | 19.0.0 | UI ë¼ì´ë¸ŒëŸ¬ë¦¬, ìµœì‹  React 19 ê¸°ëŠ¥ í™œìš©          |
| **TypeScript** | 5.x    | íƒ€ì… ì•ˆì •ì„± í™•ë³´ ë° ê°œë°œ ìƒì‚°ì„± í–¥ìƒ            |

### **ìƒíƒœ ê´€ë¦¬ & ë°ì´í„° í˜ì¹­**

| ê¸°ìˆ            | ë²„ì „   | ëª©ì  ë° í™œìš©                                      |
| -------------- | ------ | ------------------------------------------------- |
| **SWR**        | 2.3.4  | ë°ì´í„° í˜ì¹­, ìºì‹±, ë¦¬ë°¸ë¦¬ë°ì´ì…˜ ìë™í™”            |
| **Axios**      | 1.10.0 | HTTP í´ë¼ì´ì–¸íŠ¸, ì¸í„°ì…‰í„°ë¥¼ í†µí•œ í†µí•© ì—ëŸ¬ ì²˜ë¦¬   |
| **React Hook** | -      | useState, useEffect, useCallback ë“± React í›… í™œìš© |

### **ë¡œê·¸ì¸ ë°©ì‹ì‹**

| ê¸°ìˆ              | ë²„ì „          | ëª©ì  ë° í™œìš©                |
| ---------------- | ------------- | --------------------------- |
| **NextAuth**     | 5.0.0-beta.29 | OAuth 2.0 ì¸ì¦ ë° ì„¸ì…˜ ê´€ë¦¬ |
| **JWT**          | -             | í† í° ê¸°ë°˜ ì¸ì¦              |
| **Google OAuth** | -             | Google ì†Œì…œ ë¡œê·¸ì¸          |

### **ì‹¤ì‹œê°„ í†µì‹ **

| ê¸°ìˆ                  | ë²„ì „  | ëª©ì  ë° í™œìš©       |
| -------------------- | ----- | ------------------ |
| **Socket.IO Client** | 4.8.1 | ì‹¤ì‹œê°„ ì–‘ë°©í–¥ í†µì‹  |

### **UI & Styling**

| ê¸°ìˆ              | ë²„ì „    | ëª©ì  ë° í™œìš©             |
| ---------------- | ------- | ------------------------ |
| **Tailwind CSS** | 4.x     | UI ê°œë°œ                  |
| **Lucide React** | 0.525.0 | í”„ë¡œì íŠ¸ì— ì‚¬ìš©ëœ ì•„ì´ì½˜ |
| **date-fns**     | 4.1.0   | ë‚ ì§œ/ì‹œê°„ í¬ë§·íŒ…         |

### **ê°œë°œ ë„êµ¬**

| ê¸°ìˆ        | ëª©ì  ë° í™œìš©        |
| ---------- | ------------------- |
| **Cursor** | AI ê¸°ë°˜ ì½”ë“œ ì—ë””í„° |
| **ESLint** | ì½”ë“œ í’ˆì§ˆ ê´€ë¦¬      |
| **Git**    | ë²„ì „ ê´€ë¦¬           |
| **Vercel** | ë°°í¬ ë° í˜¸ìŠ¤íŒ…      |

---

## ğŸ—ï¸ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
socialspace-fe/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ (routes)/                 # í˜ì´ì§€ ë¼ìš°íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx              # í™ˆ (í”¼ë“œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ profile/[username]/  # ì‚¬ìš©ì í”„ë¡œí•„
â”‚   â”‚   â”‚   â”œâ”€â”€ messages/             # ì±„íŒ…
â”‚   â”‚   â”‚   â”œâ”€â”€ notifications/        # ì•Œë¦¼
â”‚   â”‚   â”‚   â”œâ”€â”€ search/               # ê²€ìƒ‰
â”‚   â”‚   â”‚   â”œâ”€â”€ settings/             # ì„¤ì •
â”‚   â”‚   â”‚   â””â”€â”€ create/               # ê²Œì‹œë¬¼ ì‘ì„±
â”‚   â”‚   â”œâ”€â”€ auth/                     # ì¸ì¦ ê´€ë ¨ í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â”œâ”€â”€ signup/
â”‚   â”‚   â”‚   â””â”€â”€ google/callback/
â”‚   â”‚   â”œâ”€â”€ api/                      # API ë¼ìš°íŠ¸
â”‚   â”‚   â”‚   â””â”€â”€ auth/[...nextauth]/
â”‚   â”‚   â”œâ”€â”€ components/               # ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ common/               # ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ home/                 # í™ˆ í”¼ë“œ
â”‚   â”‚   â”‚   â”œâ”€â”€ profile/              # í”„ë¡œí•„
â”‚   â”‚   â”‚   â”œâ”€â”€ chat/                 # ì±„íŒ…
â”‚   â”‚   â”‚   â”œâ”€â”€ create/               # ê²Œì‹œë¬¼ ì‘ì„±
â”‚   â”‚   â”‚   â”œâ”€â”€ modal/                # ëª¨ë‹¬
â”‚   â”‚   â”‚   â”œâ”€â”€ layout/               # ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ follow/               # íŒ”ë¡œìš°
â”‚   â”‚   â”‚   â”œâ”€â”€ notifications/        # ì•Œë¦¼
â”‚   â”‚   â”‚   â””â”€â”€ settings/             # ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ layout.tsx                # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â”œâ”€â”€ globals.css               # ì „ì—­ ìŠ¤íƒ€ì¼
â”‚   â”‚   â””â”€â”€ providers.tsx             # Context Providers
â”‚   â”œâ”€â”€ hooks/                        # ì»¤ìŠ¤í…€ í›… (29ê°œ)
â”‚   â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â”‚   â”œâ”€â”€ usePosts.ts
â”‚   â”‚   â”œâ”€â”€ useComments.ts
â”‚   â”‚   â”œâ”€â”€ useFollow.ts
â”‚   â”‚   â”œâ”€â”€ useChat.ts
â”‚   â”‚   â”œâ”€â”€ useNotifications.ts
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ lib/                          # ìœ í‹¸ë¦¬í‹° ë¼ì´ë¸ŒëŸ¬ë¦¬
â”‚   â”‚   â”œâ”€â”€ api/                      # API í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ config.ts             # Axios ì„¤ì •
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ posts.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ comments.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ follows.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ blocks.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ chat.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ notifications.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ users.ts
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ auth.ts                   # NextAuth ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ socket.ts                 # Socket.IO í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ socketEvents.ts           # Socket ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
â”‚   â”‚   â””â”€â”€ swr/                      # SWR ì„¤ì •
â”‚   â”œâ”€â”€ types/                        # TypeScript íƒ€ì… ì •ì˜
â”‚   â”‚   â”œâ”€â”€ post.ts
â”‚   â”‚   â”œâ”€â”€ chat.ts
â”‚   â”‚   â”œâ”€â”€ settings.ts
â”‚   â”‚   â””â”€â”€ next-auth.d.ts
â”‚   â””â”€â”€ middleware.ts                 # Next.js ë¯¸ë“¤ì›¨ì–´
â”œâ”€â”€ public/                           # ì •ì  íŒŒì¼
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tailwind.config.js
â””â”€â”€ next.config.ts
```

---

## ğŸ¨ ì£¼ìš” ê¸°ëŠ¥ êµ¬í˜„

### **1. ì¸ì¦ ì‹œìŠ¤í…œ (NextAuth + JWT)**

**OAuth 2.0 Google ë¡œê·¸ì¸**

```typescript
// src/lib/auth.ts
export const authOptions: NextAuthConfig = {
  providers: [
    GoogleProvider({
      clientId: process.env.GOOGLE_CLIENT_ID!,
      clientSecret: process.env.GOOGLE_CLIENT_SECRET!,
    }),
  ],
  callbacks: {
    jwt: async ({ token, user, account }) => {
      // JWT í† í°ì— ì‚¬ìš©ì ì •ë³´ í¬í•¨
      if (user) {
        token.userId = user.id;
        token.username = user.username;
      }
      return token;
    },
  },
};
```

**ì»¤ìŠ¤í…€ ì¸ì¦ í›…**

```typescript
// src/hooks/useAuth.ts
export function useCurrentUser() {
  const { data: session, status } = useSession();

  const { data: backendUser } = useSWR(
    session ? "/auth/verify" : null,
    authApi.verifyToken
  );

  return {
    user: backendUser?.data?.user || session?.user || null,
    isAuthenticated: status === "authenticated" && !!backendUser?.success,
    isLoading: status === "loading",
  };
}
```

### **2. ë¬´í•œ ìŠ¤í¬ë¡¤ ê²Œì‹œë¬¼ í”¼ë“œ**

**SWR Infiniteë¥¼ í™œìš©í•œ ë¬´í•œ ìŠ¤í¬ë¡¤**

```typescript
// src/hooks/usePosts.ts
export function useInfinitePosts(limit = 10) {
  const { data, error, size, setSize, mutate } = useSWRInfinite(
    (pageIndex) => `/posts?page=${pageIndex + 1}&limit=${limit}`,
    postsApi.getPosts,
    {
      revalidateFirstPage: false,
      parallel: true,
    }
  );

  const posts = data ? data.flatMap((page) => page.data) : [];
  const hasMore = data?.[data.length - 1]?.pagination?.hasMore ?? true;

  return {
    posts,
    isLoading: !error && !data,
    hasMore,
    loadMore: () => setSize(size + 1),
    mutate,
  };
}
```

**Intersection Observer êµ¬í˜„**

```typescript
// ë¬´í•œ ìŠ¤í¬ë¡¤ íŠ¸ë¦¬ê±°
const observerRef = useRef<IntersectionObserver | null>(null);

const lastPostRef = useCallback(
  (node: HTMLDivElement) => {
    if (isLoading) return;
    if (observerRef.current) observerRef.current.disconnect();

    observerRef.current = new IntersectionObserver((entries) => {
      if (entries[0].isIntersecting && hasMore) {
        loadMore();
      }
    });

    if (node) observerRef.current.observe(node);
  },
  [isLoading, hasMore, loadMore]
);
```

### **3. ì‹¤ì‹œê°„ ì±„íŒ… ì‹œìŠ¤í…œ**

**Socket.IO ì—°ê²° ê´€ë¦¬**

```typescript
// src/lib/socket.ts
export function initializeSocket(userId: string) {
  const socket = io(SOCKET_URL, {
    auth: { userId },
    transports: ["websocket"],
    reconnection: true,
    reconnectionAttempts: 5,
  });

  socket.on("connect", () => {
    console.log("Socket connected");
  });

  socket.on("disconnect", () => {
    console.log("Socket disconnected");
  });

  return socket;
}
```

**ì‹¤ì‹œê°„ ë©”ì‹œì§€ ìˆ˜ì‹ **

```typescript
// src/hooks/useChat.ts
export function useChatRoom(roomId: string) {
  const { data: messages, mutate } = useSWR(
    `/chat/rooms/${roomId}/messages`,
    chatApi.getMessages
  );

  useEffect(() => {
    const socket = getSocket();

    socket.on("new_message", (message: Message) => {
      if (message.room_id === roomId) {
        mutate((current) => {
          return current ? [...current, message] : [message];
        }, false);
      }
    });

    return () => {
      socket.off("new_message");
    };
  }, [roomId, mutate]);

  return { messages, mutate };
}
```

### **4. Optimistic UI ì—…ë°ì´íŠ¸**

**ì¢‹ì•„ìš” ë²„íŠ¼ Optimistic ì—…ë°ì´íŠ¸**

```typescript
// src/components/common/LikeButton.tsx
const handleLike = async () => {
  const optimisticPost = {
    ...post,
    is_liked: !post.is_liked,
    like_count: post.is_liked ? post.like_count - 1 : post.like_count + 1,
  };

  // ì¦‰ì‹œ UI ì—…ë°ì´íŠ¸ (Optimistic)
  mutate(`/posts/${postId}`, optimisticPost, false);

  try {
    if (post.is_liked) {
      await postsApi.unlikePost(postId);
    } else {
      await postsApi.likePost(postId);
    }
  } catch (error) {
    // ì‹¤íŒ¨ ì‹œ ë¡¤ë°±
    mutate(`/posts/${postId}`);
  }
};
```

### **5. ì´ë¯¸ì§€ ì—…ë¡œë“œ ë° ë¯¸ë¦¬ë³´ê¸°**

**ë“œë˜ê·¸ ì•¤ ë“œë¡­ ì´ë¯¸ì§€ ì—…ë¡œë“œ**

```typescript
// src/components/create/ImageUpload.tsx
const handleDrop = useCallback((e: DragEvent) => {
  e.preventDefault();
  const files = Array.from(e.dataTransfer.files);

  const validFiles = files
    .filter((file) => file.type.startsWith("image/"))
    .slice(0, 5); // ìµœëŒ€ 5ê°œ

  const previews = validFiles.map((file) => {
    return {
      file,
      preview: URL.createObjectURL(file),
    };
  });

  setImages((prev) => [...prev, ...previews].slice(0, 5));
}, []);
```

**ì´ë¯¸ì§€ ì••ì¶• ë° Base64 ë³€í™˜**

```typescript
const compressImage = async (file: File): Promise<string> => {
  return new Promise((resolve) => {
    const reader = new FileReader();
    reader.onload = (e) => {
      const img = new Image();
      img.onload = () => {
        const canvas = document.createElement("canvas");
        const ctx = canvas.getContext("2d")!;

        // ìµœëŒ€ ë„ˆë¹„/ë†’ì´
        const MAX_WIDTH = 1200;
        const MAX_HEIGHT = 1200;

        let width = img.width;
        let height = img.height;

        if (width > height) {
          if (width > MAX_WIDTH) {
            height *= MAX_WIDTH / width;
            width = MAX_WIDTH;
          }
        } else {
          if (height > MAX_HEIGHT) {
            width *= MAX_HEIGHT / height;
            height = MAX_HEIGHT;
          }
        }

        canvas.width = width;
        canvas.height = height;
        ctx.drawImage(img, 0, 0, width, height);

        resolve(canvas.toDataURL("image/jpeg", 0.8));
      };
      img.src = e.target!.result as string;
    };
    reader.readAsDataURL(file);
  });
};
```

### **6. ëŒ“ê¸€ ì‹œìŠ¤í…œ (ê³„ì¸µí˜• êµ¬ì¡°)**

**ëŒ€ëŒ“ê¸€ ë Œë”ë§**

```typescript
// src/components/modal/CommentSection.tsx
function CommentThread({ comment, depth = 0 }: CommentThreadProps) {
  const [showReplies, setShowReplies] = useState(false);

  return (
    <div style={{ marginLeft: `${depth * 20}px` }}>
      <CommentItem comment={comment} />

      {comment.reply_count > 0 && (
        <button onClick={() => setShowReplies(!showReplies)}>
          {showReplies ? "ë‹µê¸€ ìˆ¨ê¸°ê¸°" : `ë‹µê¸€ ${comment.reply_count}ê°œ ë³´ê¸°`}
        </button>
      )}

      {showReplies && (
        <CommentReplies commentId={comment.id} depth={depth + 1} />
      )}
    </div>
  );
}
```

### **7. ì•Œë¦¼ ì‹œìŠ¤í…œ**

**ì‹¤ì‹œê°„ ì•Œë¦¼ ìˆ˜ì‹  ë° í‘œì‹œ**

```typescript
// src/hooks/useNotifications.ts
export function useNotifications() {
  const { data: notifications, mutate } = useSWR(
    "/notifications",
    notificationsApi.getNotifications
  );

  const { data: unreadCount, mutate: mutateCount } = useSWR(
    "/notifications/unread-count",
    notificationsApi.getUnreadCount
  );

  useEffect(() => {
    const socket = getSocket();

    socket.on("notification", (notification: Notification) => {
      // ìƒˆ ì•Œë¦¼ ì¶”ê°€
      mutate((current) => [notification, ...(current || [])], false);
      // ì•ˆì½ì€ ì¹´ìš´íŠ¸ ì¦ê°€
      mutateCount((count) => (count || 0) + 1, false);
    });

    return () => {
      socket.off("notification");
    };
  }, [mutate, mutateCount]);

  return {
    notifications,
    unreadCount,
    markAsRead: async (id: string) => {
      await notificationsApi.markAsRead(id);
      mutate();
      mutateCount();
    },
  };
}
```

---

## ğŸ”‘ í•µì‹¬ êµ¬í˜„ ê¸°ìˆ 

### **1. ì»¤ìŠ¤í…€ í›…**

í”„ë¡œì íŠ¸ ì „ë°˜ì— ê±¸ì³ ë¡œì§ì˜ ì¬ì‚¬ìš©ì´ ê°€ëŠ¥í•œ ì»¤ìŠ¤í…€ í›… êµ¬í˜„

**ë°ì´í„° í˜ì¹­ í›…**

- `useCurrentUser()` - í˜„ì¬ ë¡œê·¸ì¸ ì‚¬ìš©ì ì •ë³´
- `useInfinitePosts()` - ë¬´í•œ ìŠ¤í¬ë¡¤ ê²Œì‹œë¬¼
- `usePostById()` - íŠ¹ì • ê²Œì‹œë¬¼ ì¡°íšŒ
- `useUserPosts()` - íŠ¹ì • ì‚¬ìš©ì ê²Œì‹œë¬¼
- `useComments()` - ëŒ“ê¸€ ëª©ë¡
- `useFollowStatus()` - íŒ”ë¡œìš° ìƒíƒœ
- `useChatRooms()` - ì±„íŒ…ë°© ëª©ë¡
- `useNotifications()` - ì•Œë¦¼ ëª©ë¡

**ì¸í„°ë™ì…˜ í›…**

- `useLikePost()` - ê²Œì‹œë¬¼ ì¢‹ì•„ìš”
- `useFollowUser()` - íŒ”ë¡œìš°/ì–¸íŒ”ë¡œìš°
- `useBlockUser()` - ì‚¬ìš©ì ì°¨ë‹¨
- `useSendMessage()` - ë©”ì‹œì§€ ì „ì†¡

**ìœ í‹¸ë¦¬í‹° í›…**

- `useDebounce()` - ì…ë ¥ ë””ë°”ìš´ì‹±
- `useIntersectionObserver()` - ë·°í¬íŠ¸ ê°ì§€
- `useMediaQuery()` - ë°˜ì‘í˜• ë¯¸ë””ì–´ ì¿¼ë¦¬

### **2. Axios ì¸í„°ì…‰í„°**

**ìš”ì²­ ì¸í„°ì…‰í„° (Request Interceptor)**

```typescript
// src/lib/api/config.ts
expressApi.interceptors.request.use(async (config) => {
  // NextAuth JWT í† í°ì„ Authorization í—¤ë”ì— ì¶”ê°€
  const token = await getNextAuthToken();
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
});
```

**ì‘ë‹µ ì¸í„°ì…‰í„° (Response Interceptor)**

```typescript
expressApi.interceptors.response.use(
  (response) => response,
  async (error) => {
    if (error.response?.status === 401) {
      // ì¸ì¦ ë§Œë£Œ ì‹œ ë¡œê·¸ì•„ì›ƒ
      await signOut();
      window.location.href = "/auth/login";
    }
    return Promise.reject(error);
  }
);
```

### **3. SWR ìºì‹± ì „ëµ**

**ì „ì—­ SWR ì„¤ì •**

```typescript
// src/app/providers.tsx
export function Providers({ children }: { children: React.ReactNode }) {
  return (
    <SWRConfig
      value={{
        revalidateOnFocus: false,
        revalidateOnReconnect: true,
        dedupingInterval: 2000,
        errorRetryCount: 3,
        onError: (error) => {
          if (error.status !== 403 && error.status !== 404) {
            console.error("SWR Error:", error);
          }
        },
      }}
    >
      <SessionProvider>{children}</SessionProvider>
    </SWRConfig>
  );
}
```

**ìºì‹œ ê°±ì‹  ì „ëµ**

```typescript
// íŠ¹ì • í‚¤ ê°±ì‹ 
mutate("/posts");

// ì—¬ëŸ¬ í‚¤ ê°±ì‹ 
mutate((key) => typeof key === "string" && key.startsWith("/posts"));

// Optimistic ì—…ë°ì´íŠ¸
mutate("/posts", optimisticData, false);
```

---

## ğŸ“Š ì„±ëŠ¥ ìµœì í™”

### **1. SSR/CSR í•˜ì´ë¸Œë¦¬ë“œ ë Œë”ë§ ì „ëµ**

**SSR (Server-Side Rendering) í™œìš©**

- **ë ˆì´ì•„ì›ƒ ë° ê³µí†µ ì»´í¬ë„ŒíŠ¸**: root layout, navigation ë“± ì •ì  UIëŠ” SSRë¡œ ì´ˆê¸° ë¡œë”© ìµœì í™”
- **ë©”íƒ€ë°ì´í„° ìµœì í™”**: SEOë¥¼ ìœ„í•œ ë©”íƒ€ë°ì´í„°ëŠ” ì„œë²„ì—ì„œ ë Œë”ë§
- **ì´ˆê¸° í˜ì¸íŠ¸ í–¥ìƒ**: ì„œë²„ì—ì„œ HTML ìƒì„±í•˜ì—¬ ì²« í™”ë©´ í‘œì‹œ ì†ë„ ê°œì„ 

```typescript
// src/app/layout.tsx - SSRë¡œ ì „ì²´ ë ˆì´ì•„ì›ƒ ë Œë”ë§
export const metadata: Metadata = {
  title: "SocialSpace - SNS ì»¤ë®¤ë‹ˆí‹°",
  description: "ì¸ìŠ¤íƒ€ê·¸ë¨ê³¼ ë ˆë”§ ìŠ¤íƒ€ì¼ì˜ ì†Œì…œ ë„¤íŠ¸ì›Œí¬ ì„œë¹„ìŠ¤",
};

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="ko">
      <body>
        <Providers>
          <LayoutContent>{children}</LayoutContent>
        </Providers>
      </body>
    </html>
  );
}
```

**CSR (Client-Side Rendering) í™œìš©**

- **ì‹¤ì‹œê°„ ì±„íŒ…**: Socket.IO ê¸°ë°˜ ì‹¤ì‹œê°„ í†µì‹ ì€ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì²˜ë¦¬
- **ë¬´í•œ ìŠ¤í¬ë¡¤**: SWRì„ ì‚¬ìš©í•œ ë™ì  ë°ì´í„° ë¡œë”©
- **ì¸í„°ë™í‹°ë¸Œ ì»´í¬ë„ŒíŠ¸**: ëª¨ë‹¬, ë“œë¡­ë‹¤ìš´ ë“± ì‚¬ìš©ì ì¸í„°ë™ì…˜ ì¤‘ì‹¬ UI

```typescript
// src/app/page.tsx - í™ˆ í”¼ë“œëŠ” CSRë¡œ ì‹¤ì‹œê°„ ë°ì´í„° ë°˜ì˜
"use client";

export default function HomePage() {
  const { posts, isLoading, hasMore, setSize } = useInfinitePosts(10);

  return (
    <PostList
      posts={posts}
      isLoading={isLoading}
      onLoadMore={() => setSize(size + 1)}
    />
  );
}
```

**í•˜ì´ë¸Œë¦¬ë“œ ë Œë”ë§ ì „ëµ**

- **ì •ì  ë¶€ë¶„**: SSRë¡œ ë¹ ë¥¸ ì´ˆê¸° ë¡œë”©
- **ë™ì  ë¶€ë¶„**: CSRë¡œ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
- **í˜ì´ì§€ë³„ ìµœì í™”**: ìš”êµ¬ì‚¬í•­ì— ë§ê²Œ ì ì ˆí•œ ë Œë”ë§ ë°©ì‹ ì„ íƒ

### **2. ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…**

**ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì½”ë“œë¥¼ ì—¬ëŸ¬ ì‘ì€ ë²ˆë“¤ë¡œ ë¶„í• í•˜ì—¬ í•„ìš”í•  ë•Œë§Œ ë¡œë“œí•˜ëŠ” ìµœì í™” ê¸°ë²•**

- **ì´ˆê¸° ë¡œë”© ì‹œê°„ ë‹¨ì¶•**: ì•± ì‹œì‘ ì‹œ í•„ìš”í•œ ìµœì†Œí•œì˜ ì½”ë“œë§Œ ë¡œë“œ
- **ë²ˆë“¤ í¬ê¸° ê°ì†Œ**: ì „ì²´ ì½”ë“œë¥¼ í•œ ë²ˆì— ë‹¤ìš´ë¡œë“œí•˜ì§€ ì•Šê³  í•„ìš”í•œ ë¶€ë¶„ë§Œ ë¡œë“œ
- **ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±**: ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì»´í¬ë„ŒíŠ¸ëŠ” ë©”ëª¨ë¦¬ì— ë¡œë“œí•˜ì§€ ì•ŠìŒ

**ë™ì  ì„í¬íŠ¸**

```typescript
// ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ ì§€ì—° ë¡œë”© (CSR)
const PostDetailModal = dynamic(
  () => import("@/components/modal/PostDetailModal"),
  { ssr: false }
);

const CreatePostModal = dynamic(
  () => import("@/components/modal/CreatePostModal"),
  { ssr: false }
);
```

### **2. ì´ë¯¸ì§€ ìµœì í™”**

**Next.js Image ì»´í¬ë„ŒíŠ¸ í™œìš©**

```typescript
import Image from "next/image";

<Image
  src={profileImage}
  alt={username}
  width={40}
  height={40}
  className="rounded-full"
  loading="lazy"
  quality={85}
/>;
```

### **3. ë©”ëª¨ì´ì œì´ì…˜**

**React.memo ë° useMemo í™œìš©**

```typescript
const PostCard = React.memo(({ post }: PostCardProps) => {
  const formattedDate = useMemo(
    () => formatDistanceToNow(new Date(post.created_at)),
    [post.created_at]
  );

  return <div>{/* ... */}</div>;
});
```

### **4. ë””ë°”ìš´ì‹±**

**ê²€ìƒ‰ ì…ë ¥ ë””ë°”ìš´ì‹±**

```typescript
const [searchTerm, setSearchTerm] = useState("");
const debouncedSearch = useDebounce(searchTerm, 500);

const { data: searchResults } = useSWR(
  debouncedSearch ? `/users/search?q=${debouncedSearch}` : null,
  usersApi.search
);
```

---

## ğŸ¨ UI/UX íŠ¹ì§•

### **1. ë°˜ì‘í˜• ë””ìì¸**

- í•´ìƒë„ì— ë”°ë¥¸ ëª¨ë°”ì¼ ë° ë°ìŠ¤í¬íƒ‘ UI ì ìš©ìš©
- Tailwind CSS ë¸Œë ˆì´í¬í¬ì¸íŠ¸ í™œìš© (`sm`, `md`, `lg`, `xl`)
- í„°ì¹˜ ì¹œí™”ì  ì¸í„°í˜ì´ìŠ¤

### **2. ë¡œë”© ìƒíƒœ UI**

```typescript
{
  isLoading ? <PostSkeleton /> : <PostCard post={post} />;
}
```

### **3. ì—ëŸ¬ ë°”ìš´ë”ë¦¬**

```typescript
// src/components/common/ErrorBoundary.tsx
export class ErrorBoundary extends React.Component {
  componentDidCatch(error: Error, errorInfo: ErrorInfo) {
    console.error("Error caught by boundary:", error, errorInfo);
  }

  render() {
    if (this.state.hasError) {
      return <ErrorFallback />;
    }
    return this.props.children;
  }
}
```

---

## ğŸš€ ê°œë°œ ê³¼ì •ì—ì„œ ë°°ìš´ ì 

### **1. Next.js 15 App Router ë§ˆìŠ¤í„°**

- Server Components vs Client Components êµ¬ë¶„
- Dynamic Routes ë° Parallel Routes í™œìš©
- Middlewareë¥¼ í†µí•œ ì¸ì¦ ë¼ìš°íŠ¸ ë³´í˜¸

### **2. SWRì„ í™œìš©í•œ íš¨ìœ¨ì ì¸ ë°ì´í„° ê´€ë¦¬**

- Stale-While-Revalidate íŒ¨í„´ ì´í•´
- ìºì‹œ ë¬´íš¨í™” ë° ê°±ì‹  ì „ëµ
- Infinite Loading êµ¬í˜„

### **3. ì‹¤ì‹œê°„ í†µì‹  êµ¬í˜„**

- Socket.IO ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ê´€ë¦¬
- ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€ (cleanup)
- ì¬ì—°ê²° ë¡œì§ êµ¬í˜„

### **4. TypeScript íƒ€ì… ì•ˆì „ì„±**

- Generic íƒ€ì… í™œìš©
- Utility Types (Partial, Pick, Omit ë“±)
- íƒ€ì… ê°€ë“œ êµ¬í˜„

### **5. ì„±ëŠ¥ ìµœì í™” ê¸°ë²•**

- React ë Œë”ë§ ìµœì í™”
- ë²ˆë“¤ ì‚¬ì´ì¦ˆ ìµœì í™”
- Lazy Loading ë° Code Splitting

---

## ğŸ”— ê´€ë ¨ ë§í¬

- **GitHub Repository**: [ë§í¬]
- **Live Demo**: [ë§í¬]
- **Figma Design**: [ë§í¬]

---

## ğŸ“ ê¸°ìˆ ì  í•˜ì´ë¼ì´íŠ¸

### **ì£¼ìš” ì„±ê³¼**

âœ… **ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»¤ìŠ¤í…€ í›…** êµ¬í˜„
âœ… **ì‹¤ì‹œê°„ Socket.IO** í†µì‹  êµ¬í˜„  
âœ… **ë¬´í•œ ìŠ¤í¬ë¡¤** ë° í˜ì´ì§€ë„¤ì´ì…˜ ìµœì í™”  
âœ… **Optimistic UI ì—…ë°ì´íŠ¸**ë¡œ ë¹ ë¥¸ ë°˜ì‘ì„±  
âœ… **TypeScript strict mode** ì ìš©  
âœ… **ë°˜ì‘í˜• ë””ìì¸** (ëª¨ë°”ì¼/ë°ìŠ¤í¬í†±)

### **ì½”ë“œ í’ˆì§ˆ**

- TypeScript ì ìš©
- ESLint ê·œì¹™ ì¤€ìˆ˜
- ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©ì„± ê·¹ëŒ€í™”
- ì¼ê´€ëœ ë„¤ì´ë° ì»¨ë²¤ì…˜

---

**ì‘ì„±ì¼**: 2025ë…„ 10ì›” 25ì¼  
**ìµœì¢… ìˆ˜ì •**: 2025ë…„ 10ì›” 25ì¼
